


<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML LANG=en-US>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta http-equiv="Cache-control" content="max-age=0, private">
  <title>BiasedUrn -- Linux installation</title>
  <meta name="KEYWORDS" content="BiasedUrn, R, permutation, confounders, case, control">
  <meta name="DESCRIPTION" content="BiasedUrn">
  <meta name="AUTHOR" content="Richard Duncan">
  <link rel="stylesheet" type="text/css" href="http://genetics.emory.edu/labs/epstein/css/html-structs.css">
  <link rel="stylesheet" type="text/css" href="http://genetics.emory.edu/labs/epstein/css/tables.css">
  <link rel="stylesheet" type="text/css" href="http://genetics.emory.edu/labs/epstein/css/page-components.css">
  <link rel="stylesheet" type="text/css" href="http://genetics.emory.edu/labs/epstein/css/code-style.css">
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-33674142-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); 
    ga.type = 'text/javascript'; 
    ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; 
    s.parentNode.insertBefore(ga, s);
  })();

</script>

</head>

<body>
<TABLE ID='top_menu'>
  <COLGROUP>
    <COL align='right'  width='100%'>
  </COLGROUP>
  <TR><!-- style='height: 155px;'-->
    <TD valign='middle' align='right'>
      <span class='page_title'>Epstein software</span>
    </TD>
  </TR>
  <TR class='menu_maroon' style='height: 8px;'>
    <TD align='right' valign='middle'>
    </TD>
  </TR>
</TABLE>


<div id="leftcontent"><!-- sidebar content -->
<div class="p2">
    <a href="http://genetics.emory.edu/labs/epstein/software">Software</a>
</div>
  <ul>
    <li><a href="http://genetics.emory.edu/labs/epstein/software/BiasedUrn">BiasedUrn</a></li>
    <li><a href="http://genetics.emory.edu/labs/epstein/software/chaplin">Chaplin</a></li>
    <li><a href="http://genetics.emory.edu/labs/epstein/software/gamut">GAMuT</a></li>
    <li><a href="http://genetics.emory.edu/labs/epstein/software/lskm">LSKM</a></li>
    <li><a href="http://genetics.emory.edu/labs/epstein/software/robust-joint-interaction">Robust joint interaction</a></li>
    <li><a href="http://genetics.emory.edu/labs/epstein/software/scout">Scout</a></li>
    <li><a href="http://www.hsph.harvard.edu/research/skat/" target="blank">SKAT</a></li>
    <li><a href="http://genetics.emory.edu/labs/epstein/software/stratscore">StratScore</a></li>
  </ul>

<!-- end sidebar content -->
<!-- BiasedUrn sidebar header content -->
<div class="p2">BiasedUrn project:</div>
  <ul>
    <li> <a href="burn-install.html">   Installation </a> </li>
    <li> <a href="burn-example.html">   Example      </a> </li>
  </ul>
</div>

<div id="rightcontent"><h2 id="linux">BiasedUrn:  Linux installation</h2>
Other than the R software itself, 
most <a href="http://distrowatch.com/" target="none">Linux distributions</a>
(e.g. Ubuntu, CentOS, Debian, Slackware among other) 
include the developer tools required to compile R library packages. 
The instructions below should work for the majority of Linux distributions. 

<h3>modify</h3>

We will use shell commands within a Linux terminal to edit, recompile, and install the package. 
First, change directories to that which contains the BiasedUrn package source code. 
Here, we assume this directory is called <tt>Downloads</tt> and is found under our home directory 
(i.e. <tt>~/Downloads/</tt>). 

<pre>
jdoe@somewhere ~ $ cd ~/Downloads
</pre>

Next, use the <tt>tar</tt> command to extract the BiasedUrn source code. 
<pre>
jdoe@somewhere ~/Downloads $ tar -zxf BiasedUrn_1.04.tar.gz 
</pre>

The default contents of the <tt>Makevars</tt> file within the package <tt>src</tt> directory
is displayed here:
<pre>
jdoe@somewhere ~/Downloads $ cat BiasedUrn/src/Makevars
# Makevars for BiasedUrn
# The value of MAXCOLORS may be modified
PKG_CPPFLAGS= -DR_BUILD=1 -DMAXCOLORS=32
</pre>

Using any text editor, change the value of <tt>MAXCOLORS</tt> from 32 to 10000. 
After performing this edit and saving the changes, the file should look like this:
<pre>
jdoe@somewhere ~/Downloads $ cat BiasedUrn/src/Makevars
# Makevars for BiasedUrn
# The value of MAXCOLORS may be modified
PKG_CPPFLAGS= -DR_BUILD=1 -DMAXCOLORS=10000
</pre>


<h3>check</h3>

Before building the package, one should execute the <code>R check</code> script to resolve 
any problems that may arise from compiling the package, e.g., missing developer tools.  
The command line execution of this step along with example output is shown here:
<pre>
jdoe@somewhere ~/Downloads $ R CMD check BiasedUrn
* using log directory '/home/jdoe/Downloads/BiasedUrn.Rcheck'
* using R version 2.15.0 (2012-03-30)
* using platform: i686-pc-linux-gnu (32-bit)
* using session charset: ASCII
* checking for file 'BiasedUrn/DESCRIPTION' ... OK
* checking extension type ... Package
* this is package 'BiasedUrn' version '1.04'
* checking package namespace information ... OK
...
* checking re-building of vignette PDFs ... OK
* checking PDF version of manual ... OK
</pre>
The full output generated from the <tt>check</tt> command can be found in the
log file <tt>BiasedUrn.Rcheck/00check.log</tt>.

<h3>build</h3>
Next we use the build command to compile the modified package and create an installable package file.
This step will overwrite the original source file <tt>BiasedUrn_1.04.tar.gz</tt> 
with the installable modified package file.
<pre>
jdoe@somewhere ~/Downloads $ R CMD build BiasedUrn
* checking for file 'BiasedUrn/DESCRIPTION' ... OK
* preparing 'BiasedUrn':
* checking DESCRIPTION meta-information ... OK
* cleaning src
* installing the package to re-build vignettes
* creating vignettes ... OK
* cleaning src
* checking for LF line-endings in source and make files
* checking for empty or unneeded directories
* building 'BiasedUrn_1.04.tar.gz'
</pre>

The final step is to install this modified package.
If you have root privileges, a global install can be performed;  otherwise, installation to 
a local directory tree can be performed.  Next we describe these two cases.

<h3>global install with root privileges</h3>

If you have root or sudo privileges and wish to make the new package available system-wide,
then perform this action as superuser.  Here we demonstrate this using the <tt>sudo</tt> command.
Similarly, one could also perform this action from a root shell.
<pre>
jdoe@somewhere ~/Downloads $ sudo R CMD INSTALL BiasedUrn_1.04.tar.gz 
Password: 
* installing to library '/usr/local/lib/R/library'
* installing *source* package 'BiasedUrn' ...
** libs
g++ -I/usr/local/lib/R/include -DNDEBUG -DR_BUILD=1 -DMAXCOLORS=10000 -I/usr/local/include    -fpic  -g -O2  -c fnchyppr.cpp -o fnchyppr.o
g++ -I/usr/local/lib/R/include -DNDEBUG -DR_BUILD=1 -DMAXCOLORS=10000 -I/usr/local/include    -fpic  -g -O2  -c stoc1.cpp -o stoc1.o
g++ -I/usr/local/lib/R/include -DNDEBUG -DR_BUILD=1 -DMAXCOLORS=10000 -I/usr/local/include    -fpic  -g -O2  -c stoc3.cpp -o stoc3.o
g++ -I/usr/local/lib/R/include -DNDEBUG -DR_BUILD=1 -DMAXCOLORS=10000 -I/usr/local/include    -fpic  -g -O2  -c stocR.cpp -o stocR.o
g++ -I/usr/local/lib/R/include -DNDEBUG -DR_BUILD=1 -DMAXCOLORS=10000 -I/usr/local/include    -fpic  -g -O2  -c urn1.cpp -o urn1.o
g++ -I/usr/local/lib/R/include -DNDEBUG -DR_BUILD=1 -DMAXCOLORS=10000 -I/usr/local/include    -fpic  -g -O2  -c urn2.cpp -o urn2.o
g++ -I/usr/local/lib/R/include -DNDEBUG -DR_BUILD=1 -DMAXCOLORS=10000 -I/usr/local/include    -fpic  -g -O2  -c wnchyppr.cpp -o wnchyppr.o
g++ -shared -L/usr/local/lib -o BiasedUrn.so fnchyppr.o stoc1.o stoc3.o stocR.o urn1.o urn2.o wnchyppr.o
installing to /usr/local/lib/R/library/BiasedUrn/libs
** R
** demo
** inst
** preparing package for lazy loading
** help
*** installing help indices
** building package indices
** installing vignettes
   'UrnTheory.Rtex' 
** testing if installed package can be loaded

* DONE (BiasedUrn)
</pre>

<h3 id="linux-local">install to local account</h3>
In the event one does not have root privileges, a local version of the package can be installed
and used from the user account.  Ensure that you have a directory set for local package installations;
here we have created the directory <tt>~/R/library/</tt> for this purpose.
In the output from this command you should see a line indicating installation to this local directory:
<pre>
jdoe@somewhere ~/Downloads $ R CMD INSTALL BiasedUrn_1.04.tar.gz --library=~/R/library/
...
* installing *source* package 'BiasedUrn' ...
...
installing to /home/jdoe/R/library/BiasedUrn/libs
...
</pre>
The package should now be ready to use.
</div>





</body>

<!-- bottom navigation bar -->
<div id="bottom_menu"><a href="http://genetics.emory.edu/labs/epstein/software/index.html">Epstein software</a> | <a href="http://genetics.emory.edu/">Human Genetics</a> | <a href="http://www.med.emory.edu/">School of Medicine</a> | <a href="http://www.emory.edu/">Emory University</a></div>

